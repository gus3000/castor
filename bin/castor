#!/usr/bin/env php
<?php

use Castor\Console\ApplicationFactory;

$phpFile = $_SERVER['CASTOR_PHP_REPLACE'] ?? false;

if ($phpFile) {
    require $phpFile;

    exit(0);
}

if (file_exists($file = __DIR__ . '/../vendor/autoload.php')) {
    require $file;
} elseif (file_exists($file = __DIR__ . '/../../../../vendor/autoload.php')) {
    require $file;
} else {
    throw new \RuntimeException('Unable to find autoloader.');
}

ApplicationFactory::create()->run();
